(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,a){e.exports=a(20)},19:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"getBaseUrl",function(){return k}),a.d(n,"CriaRequerimento",function(){return S}),a.d(n,"ConsultaRequerimentoPelaId",function(){return y}),a.d(n,"ListaRequerimentos",function(){return O}),a.d(n,"RemoveRequerimentoPelaId",function(){return j});var o={};a.r(o),a.d(o,"getBaseUrl",function(){return N}),a.d(o,"CriaTermoDeCompromisso",function(){return _}),a.d(o,"ConsultaTermoDeCompromissoPeloRegistro",function(){return L}),a.d(o,"ListaTermosDeCompromisso",function(){return A}),a.d(o,"ValidaTermoDeCompromissoPeloRegistro",function(){return T});var r={};a.r(r),a.d(r,"getBaseUrl",function(){return w}),a.d(r,"CriaApolice",function(){return x}),a.d(r,"ConsultaApolicePelaId",function(){return q}),a.d(r,"ListaApolices",function(){return P}),a.d(r,"RemoveApolicePelaId",function(){return U});var c={};a.r(c),a.d(c,"getBaseUrl",function(){return F}),a.d(c,"ConsultaConcedentePelaId",function(){return I}),a.d(c,"ListaConcedentes",function(){return M}),a.d(c,"ListaPropostas",function(){return z}),a.d(c,"AtualizaConcedente",function(){return $}),a.d(c,"RemovePropostaPelaId",function(){return J});var l={};a.r(l),a.d(l,"getBaseUrl",function(){return W}),a.d(l,"Novo",function(){return G}),a.d(l,"ConsultaPelaId",function(){return Z}),a.d(l,"ListaTodosAtestadosParaUmCurso",function(){return X}),a.d(l,"ListaTodos",function(){return H}),a.d(l,"Atualiza",function(){return Y}),a.d(l,"RemovePelaId",function(){return K});var i={};a.r(i),a.d(i,"getBaseUrl",function(){return ee}),a.d(i,"Novo",function(){return te}),a.d(i,"ConsultaPelaId",function(){return ae}),a.d(i,"ListaTodos",function(){return ne}),a.d(i,"Atualiza",function(){return oe}),a.d(i,"RemovePelaId",function(){return re});var s={};a.r(s),a.d(s,"getBaseUrl",function(){return le}),a.d(s,"Novo",function(){return ie}),a.d(s,"ConsultaPelaId",function(){return se}),a.d(s,"ListaTodos",function(){return ue});var u={};a.r(u),a.d(u,"Login",function(){return de}),a.d(u,"Logout",function(){return pe}),a.d(u,"Refresh",function(){return he}),a.d(u,"accessTokenAtivo",function(){return fe}),a.d(u,"refreshTokenAtivo",function(){return ve}),a.d(u,"accessToken",function(){return ge});var m=a(0),d=a.n(m),p=a(11),h=a.n(p),f=a(3),v=a(4),g=a(6),E=a(5),b=a(7),C=a(2),D="/requerimentos",k=function(){return"".concat(De).concat(D)};function S(e,t,a){ke({url:"".concat(De).concat(D),params:{method:"POST",body:JSON.stringify(e)},onSuccess:t,onError:a})}function y(e,t,a){ke({url:"".concat(De).concat(D,"/").concat(e),onSuccess:t,onError:a})}function O(e,t){ke({url:"".concat(De).concat(D),onSuccess:e,onError:t})}function j(e,t,a){ke({url:"".concat(De).concat(D,"/").concat(e),params:{method:"DELETE"},onSuccess:t,onError:a})}var N=function(){return"".concat(De).concat("/tce")};function _(e,t,a){ke({url:"".concat(N()),params:{method:"POST",body:JSON.stringify(e)},onSuccess:t,onError:a})}function L(e,t,a){ke({url:"".concat(N(),"/").concat(e),onSuccess:t,onError:a})}function A(e,t){ke({url:"".concat(N()),onSuccess:e,onError:t})}function T(e,t,a){ke({url:"".concat(N(),"/").concat(e,"/validacao"),params:{method:"PUT"},onSuccess:t,onError:a})}var R="/apolices",w=function(){return"".concat(De).concat(R)};function x(e,t,a){ke({url:"".concat(De).concat(R),params:{method:"POST",body:JSON.stringify(e)},onSuccess:t,onError:a})}function q(e,t,a){ke({url:"".concat(De).concat(R,"/").concat(e),onSuccess:t,onError:a})}function P(e,t){ke({url:"".concat(De).concat(R),onSuccess:e,onError:t})}function U(e,t,a){ke({url:"".concat(De).concat(R,"/").concat(e),params:{method:"DELETE"},onSuccess:t,onError:a})}var B="/concedentes",F=function(){return"".concat(De).concat(B)};function I(e,t,a){ke({url:"".concat(De).concat(B,"/").concat(e),onSuccess:t,onError:a})}function M(e,t){ke({url:"".concat(De).concat(B),onSuccess:e,onError:t})}function z(e,t){ke({url:"".concat(De).concat(B,"/inativos"),onSuccess:e,onError:t})}function $(e,t,a,n){ke({url:"".concat(De).concat(B,"/").concat(e),params:{method:"PUT",body:JSON.stringify(t)},onSuccess:a,onError:n})}function J(e,t,a){ke({url:"".concat(De).concat(B,"/").concat(e),params:{method:"DELETE"},onSuccess:t,onError:a})}var V="/locais_de_estagio",W=function(){return"".concat(De).concat(V)};function G(e,t,a){ke({url:"".concat(De).concat(V),params:{method:"POST",body:JSON.stringify(e)},onSuccess:t,onError:a})}function Z(e,t,a){ke({url:"".concat(De).concat(V,"/").concat(e),onSuccess:t,onError:a})}function X(e,t,a){ke({url:"".concat(De).concat(V,"/").concat(e,"/curso_id"),onSuccess:t,onError:a})}function H(e,t){ke({url:"".concat(De).concat(V),onSuccess:e,onError:t})}function Y(e,t,a,n){ke({url:"".concat(De).concat(V,"/").concat(e),params:{method:"PUT",body:JSON.stringify(t)},onSuccess:a,onError:n})}function K(e,t,a){ke({url:"".concat(De).concat(V,"/").concat(e),params:{method:"DELETE"},onSuccess:t,onError:a})}var Q="/atestes_de_campo",ee=function(){return"".concat(De).concat(Q)};function te(e,t,a){ke({url:"".concat(De).concat(Q),params:{method:"POST",body:JSON.stringify(e)},onSuccess:t,onError:a})}function ae(e,t,a){ke({url:"".concat(De).concat(Q,"/").concat(e),onSuccess:t,onError:a})}function ne(e,t){ke({url:"".concat(De).concat(Q),onSuccess:e,onError:t})}function oe(e,t,a,n){ke({url:"".concat(De).concat(Q,"/").concat(e),params:{method:"PUT",body:JSON.stringify(t)},onSuccess:a,onError:n})}function re(e,t,a){ke({url:"".concat(De).concat(Q,"/").concat(e),params:{method:"DELETE"},onSuccess:t,onError:a})}var ce="/cursos",le=function(){return"".concat(De).concat(ce)};function ie(e,t,a){ke({url:"".concat(De).concat(ce),params:{method:"POST",body:JSON.stringify(e)},onSuccess:t,onError:a})}function se(e,t,a){ke({url:"".concat(De).concat(ce,"/").concat(e),onSuccess:t,onError:a})}function ue(e,t){ke({url:"".concat(De).concat(ce),onSuccess:e,onError:t})}var me={clientId:"estagil",clientSecret:"estagil-beta"};function de(e,t){var a=me.clientId,n=me.clientSecret,o=void 0!==a&&void 0!==n?window.btoa("".concat(a,":").concat(n)):"";ke({url:"https://nixauth.herokuapp.com/oauth/token",params:{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:"Basic ".concat(o)},mode:"cors",body:"grant_type=password&username=".concat(e,"&password=").concat(t)},onSuccess:function(e){var t=new Date;t.setTime(t.getTime()+1e3*e.expires_in),document.cookie="access_token=".concat(e.access_token,"; expires=").concat(t.toUTCString(),";"),t.setTime(t.getTime()+2e3*e.expires_in),document.cookie="refresh_token=".concat(e.refresh_token,"; expires=").concat(t.toUTCString(),";")},onError:function(e){console.log(e);var t=new Date;document.cookie="access_token=; expires=".concat(t.toUTCString(),";"),document.cookie="refresh_token=; expires=".concat(t.toUTCString(),";")}})}function pe(){var e=new Date;document.cookie="access_token=; expires=".concat(e.toUTCString(),";"),document.cookie="refresh_token=; expires=".concat(e.toUTCString(),";")}function he(){var e=Ee();ke({url:"https://nixauth.herokuapp.com/oauth/token",params:{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:"Basic ZXN0YWdpbDplc3RhZ2lsLWJldGE="},mode:"cors",body:"grant_type=refresh_token&refresh_token=".concat(e)},onSuccess:function(e){var t=new Date;t.setTime(t.getTime()+1e3*e.expires_in),document.cookie="access_token=".concat(e.access_token,"; expires=").concat(t.toUTCString(),";"),t.setTime(t.getTime()+2e3*e.expires_in),document.cookie="refresh_token=".concat(e.refresh_token,"; expires=").concat(t.toUTCString(),";")},onError:function(e){console.log(e);var t=new Date;document.cookie="access_token=; expires=".concat(t.toUTCString(),";"),document.cookie="refresh_token=; expires=".concat(t.toUTCString(),";")}})}function fe(){return void 0!==ge()}function ve(){return void 0!==Ee()}function ge(){return be().access_token}function Ee(){return be().refresh_token}function be(){return document.cookie.split(";").reduce(function(e,t){var a=t.split("=");return e[a[0]]=a[1],e},{})}function Ce(){this.Requerimentos=n,this.TermosDeCompromisso=o,this.Apolices=r,this.Concedentes=c,this.CamposDeEstagio=l,this.AtestesDeCampo=i,this.Cursos=s,this.Auth=u}var De="https://api-estagil-gm.herokuapp.com";function ke(e){var t=e.url,a=void 0===t?"":t,n=e.params,o=void 0===n?{}:n,r=e.onSuccess,c=void 0===r?function(e){return e}:r,l=e.onError,i=void 0===l?function(e){return e}:l,s={method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(ge())},mode:"cors"},u=Object(C.a)({},s,o);fetch("".concat(a),u).then(function(e){e.ok?e.json().then(function(e){return c(e)}):401===e.status?e.json().then(function(e){return"invalid_token"===e.error?pe():he()}):e.text().then(function(e){return i(e)})}).catch(function(e){i(e)})}var Se=function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(g.a)(this,Object(E.a)(t).call(this))).state={rota:""},e}return Object(b.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.atualizaRota(),window.onhashchange=function(t){return e.atualizaRota()}}},{key:"atualizaRota",value:function(){var e=window.location.hash,t=Object.keys(this.props.rotas).includes(e)?e:"";this.setState({rota:t})}},{key:"render",value:function(){var e=this.state.rota,t=this.props.rotas[e];return d.a.createElement(t,this.props)}}]),t}(m.Component);a(19);function ye(e){var t=e.menu;return void 0===t?"":d.a.createElement("ul",{className:"nav"},Object.keys(t).map(function(e){var a=t[e];return d.a.createElement("li",{key:e},d.a.createElement("a",{href:a.href},e),void 0!==a.dropdown?d.a.createElement("div",{className:"nav-dropdown"},a.dropdown.map(function(e){return d.a.createElement("a",{key:e.href,href:e.href},e.label)})):"")}))}var Oe=a(1),je=function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(g.a)(this,Object(E.a)(t).call(this))).state={listaDeRequerimentos:[]},e.carregarListaDeRequerimentos=e.carregarListaDeRequerimentos.bind(Object(Oe.a)(e)),e.apagarRequerimento=e.apagarRequerimento.bind(Object(Oe.a)(e)),e}return Object(b.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){this.carregarListaDeRequerimentos()}},{key:"carregarListaDeRequerimentos",value:function(){var e=this;this.props.api.Requerimentos.ListaRequerimentos(function(t){return e.setState({listaDeRequerimentos:t})},function(e){return console.log("erro",e)})}},{key:"linkParaBaixarRequerimento",value:function(e){var t=this.props.api;return"".concat(t.Requerimentos.getBaseUrl(),"/").concat(e,"/baixar")}},{key:"apagarRequerimento",value:function(e){this.props.api.Requerimentos.RemoveRequerimentoPelaId(e,this.setState(function(t){return{listaDeRequerimentos:t.listaDeRequerimentos.filter(function(t){return t.id!==e})}}),function(e){return console.log("erro",e)})}},{key:"render",value:function(){var e=this,t=this.state.listaDeRequerimentos;return d.a.createElement("div",null,d.a.createElement("h5",null,"Rela\xe7\xe3o de Requerimentos"),d.a.createElement("table",{className:"table table-striped table-hover"},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"CPF"),d.a.createElement("th",null,"Nome"),d.a.createElement("th",null,"Matr\xedcula"),d.a.createElement("th",null))),d.a.createElement("tbody",null,t.map(function(t){var a=e.linkParaBaixarRequerimento(t.id);return d.a.createElement("tr",{key:t.id},d.a.createElement("td",null,t.aluno.cpf),d.a.createElement("td",null,t.aluno.nome),d.a.createElement("td",null,t.aluno.matricula),d.a.createElement("td",null,d.a.createElement("button",{onClick:function(){return window.open(a,"_blank")}},"Baixar"),d.a.createElement("button",{onClick:function(){return e.apagarRequerimento(t.id)}},"Apagar")))}))))}}]),t}(m.Component),Ne=a(9),_e=function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(g.a)(this,Object(E.a)(t).call(this))).state={listaDePropostas:[]},e.carregarListaDePropostas=e.carregarListaDePropostas.bind(Object(Oe.a)(e)),e.efetivarProposta=e.efetivarProposta.bind(Object(Oe.a)(e)),e.apagarProposta=e.apagarProposta.bind(Object(Oe.a)(e)),e}return Object(b.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){this.carregarListaDePropostas()}},{key:"carregarListaDePropostas",value:function(){var e=this;this.props.api.Concedentes.ListaPropostas(function(t){return e.setState({listaDePropostas:t})},function(e){return console.log("erro",e)})}},{key:"efetivarProposta",value:function(e){var t=this.props.api,a=Object(C.a)({},e,{ativo:!0});t.Concedentes.AtualizaConcedente(a.id,a,window.location.href=" #",function(e){return console.log("erro",e)})}},{key:"apagarProposta",value:function(e){this.props.api.Concedentes.RemovePropostaPelaId(e,this.setState(function(t){return{listaDePropostas:t.listaDePropostas.filter(function(t){return t.id!==e})}}),function(e){return console.log("erro",e)})}},{key:"linkParaBaixarAcordoDeCooperacao",value:function(e){var t=this.props.api;return"".concat(t.Concedentes.getBaseUrl(),"/").concat(e,"/baixar")}},{key:"baixar",value:function(e){var t=this,a=this.props.api.Auth.accessToken(),n=this.linkParaBaixarAcordoDeCooperacao(e);fetch(n,{headers:{Authorization:"Bearer ".concat(a)}}).then(function(e){return e.blob()}).then(function(a){var n=window.URL.createObjectURL(new Blob([a]));t.setState(function(t){var a=t.listaDePropostas,o=a.filter(function(t){return t.id===e})[0],r=Object(C.a)({},o,{blobUrl:n}),c=a.reduce(function(t,a){return t.push(a.id===e?r:a),t},[]);return Object(C.a)({},t,{listaDePropostas:Object(Ne.a)(c)})})})}},{key:"render",value:function(){var e=this,t=this.state.listaDePropostas;return d.a.createElement("div",null,d.a.createElement("h5",null,"Rela\xe7\xe3o de Propostas para Concedente"),d.a.createElement("table",{className:"table table-striped table-hover"},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"CNPJ"),d.a.createElement("th",null,"Nome"),d.a.createElement("th",null,"Ramo de Atividade"),d.a.createElement("th",null,"Telefone"),d.a.createElement("th",null,"Email"),d.a.createElement("th",null))),d.a.createElement("tbody",null,t.map(function(t){return d.a.createElement("tr",{key:t.id},d.a.createElement("td",null,t.cnpj),d.a.createElement("td",null,t.nome),d.a.createElement("td",null,t.ramo_atividade),d.a.createElement("td",null,t.telefone),d.a.createElement("td",null,t.email),d.a.createElement("td",null,void 0===t.blobUrl?d.a.createElement("button",{onClick:function(){return e.baixar(t.id)}},"Baixar"):d.a.createElement("button",{onClick:function(){return window.open(t.blobUrl,"_blank")}},"Abrir"),d.a.createElement("button",{onClick:function(){return e.efetivarProposta(t)}},"Efetivar"),d.a.createElement("button",{onClick:function(){return e.apagarProposta(t.id)}},"Apagar")))}))))}}]),t}(m.Component),Le=function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(g.a)(this,Object(E.a)(t).call(this))).state={listaDeConcedentes:[]},e.carregarListaDeConcedentes=e.carregarListaDeConcedentes.bind(Object(Oe.a)(e)),e}return Object(b.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){this.carregarListaDeConcedentes()}},{key:"carregarListaDeConcedentes",value:function(){var e=this;this.props.api.Concedentes.ListaConcedentes(function(t){return e.setState({listaDeConcedentes:t})},function(e){return console.log("erro",e)})}},{key:"linkParaBaixarAcordoDeCooperacao",value:function(e){var t=this.props.api;return"".concat(t.Concedentes.getBaseUrl(),"/").concat(e,"/baixar")}},{key:"baixar",value:function(e){var t=this,a=this.props.api.Auth.accessToken(),n=this.linkParaBaixarAcordoDeCooperacao(e);fetch(n,{headers:{Authorization:"Bearer ".concat(a)}}).then(function(e){return e.blob()}).then(function(a){var n=window.URL.createObjectURL(new Blob([a]));t.setState(function(t){var a=t.listaDeConcedentes,o=a.filter(function(t){return t.id===e})[0],r=Object(C.a)({},o,{blobUrl:n}),c=a.reduce(function(t,a){return t.push(a.id===e?r:a),t},[]);return Object(C.a)({},t,{listaDeConcedentes:Object(Ne.a)(c)})})})}},{key:"render",value:function(){var e=this,t=this.state.listaDeConcedentes;return d.a.createElement("div",null,d.a.createElement("h5",null,"Rela\xe7\xe3o de Concedentes"),d.a.createElement("table",{className:"table table-striped table-hover"},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"CNPJ"),d.a.createElement("th",null,"Nome"),d.a.createElement("th",null,"Ramo de Atividade"),d.a.createElement("th",null,"Telefone"),d.a.createElement("th",null,"Email"),d.a.createElement("th",null))),d.a.createElement("tbody",null,t.map(function(t){return d.a.createElement("tr",{key:t.id},d.a.createElement("td",null,t.cnpj),d.a.createElement("td",null,t.nome),d.a.createElement("td",null,t.ramo_atividade),d.a.createElement("td",null,t.telefone),d.a.createElement("td",null,t.email),d.a.createElement("td",null,void 0===t.blobUrl?d.a.createElement("button",{onClick:function(){return e.baixar(t.id)}},"Baixar"):d.a.createElement("button",{onClick:function(){return window.open(t.blobUrl,"_blank")}},"Abrir")))}))))}}]),t}(m.Component),Ae=a(8),Te=a(12);function Re(e){var t=e.listaDeConcedentes,a=e.onSelect;return d.a.createElement("div",null,d.a.createElement("h5",null,"Selecione o Acordo de Coopera\xe7\xe3o em que este campo de est\xe1gio estar\xe1 vinculado..."),d.a.createElement("table",{className:"table table-striped table-hover"},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"CNPJ"),d.a.createElement("th",null,"Nome"),d.a.createElement("th",null,"Ramo de Atividade"),d.a.createElement("th",null,"Telefone"),d.a.createElement("th",null,"Email"))),d.a.createElement("tbody",null,t.map(function(e){return d.a.createElement("tr",{key:e.id,onClick:function(){return a(e)}},d.a.createElement("td",null,e.cnpj),d.a.createElement("td",null,e.nome),d.a.createElement("td",null,e.ramo_atividade),d.a.createElement("td",null,e.telefone),d.a.createElement("td",null,e.email))}))))}var we=function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(g.a)(this,Object(E.a)(t).call(this))).onChange=e.onChange.bind(Object(Oe.a)(e)),e}return Object(b.a)(t,e),Object(v.a)(t,[{key:"onChange",value:function(e){var t=e.target,a=t.name,n=t.value,o={name:"endereco",value:Object(C.a)({},this.props.value,Object(Ae.a)({},a,n))};this.props.onChange({target:o})}},{key:"carregaCEP",value:function(e){var t=this;fetch("https://viacep.com.br/ws/".concat(e,"/json/")).then(function(e){return e.json()}).then(function(a){var n={name:"endereco",value:{cep:e,logradouro:a.logradouro,bairro:a.bairro,cidade:a.localidade,uf:a.uf}};t.props.onChange({target:n})})}},{key:"render",value:function(){var e=this,t=this.props.value,a=t.cep,n=t.logradouro,o=t.bairro,r=t.cidade,c=t.uf;return d.a.createElement("div",{className:"form-row"},d.a.createElement("div",{className:"form-group col-lg-2 col-sm-3 col-8"},d.a.createElement("label",{htmlFor:"cep"},"CEP"),d.a.createElement("label",{className:"badge badge-pill badge-info"},"somente n\xfameros"),d.a.createElement("input",{className:"form-control",id:"cep",name:"cep",type:"text",value:a,onBlur:function(){return 8===a.length?e.carregaCEP(a):""},onChange:this.onChange,required:!0,placeholder:"somente n\xfameros",minLength:"8",maxLength:"8",pattern:"^[0-9]{8}$"})),d.a.createElement("div",{className:"form-group col-lg-1 col-sm-2 col-4"},d.a.createElement("label",{htmlFor:"uf"},"UF"),d.a.createElement("input",{className:"form-control",id:"uf",name:"uf",type:"text",value:c,onChange:this.onChange,required:!0,minLength:"2",maxLength:"2",pattern:"^[A-Za-z]{2}$"})),d.a.createElement("div",{className:"form-group col-lg-6 col-sm-7 col-12"},d.a.createElement("label",{htmlFor:"cidade"},"Cidade"),d.a.createElement("input",{className:"form-control",id:"cidade",name:"cidade",type:"text",value:r,onChange:this.onChange,required:!0,minLength:"2",maxLength:"40",pattern:"^.{2,40}$"})),d.a.createElement("div",{className:"form-group col-lg-3 col-sm-4 col-12"},d.a.createElement("label",{htmlFor:"bairro"},"Bairro"),d.a.createElement("input",{className:"form-control",id:"bairro",name:"bairro",type:"text",value:o,onChange:this.onChange,required:!0,minLength:"2",maxLength:"20",pattern:"^.{2,20}$"})),d.a.createElement("div",{className:"form-group col-lg-12 col-sm-8 col-12"},d.a.createElement("label",{htmlFor:"logradouro"},"Endere\xe7o"),d.a.createElement("input",{className:"form-control",id:"logradouro",name:"logradouro",type:"text",placeholder:"Rua, Avenida, Pra\xe7a...",value:n,onChange:this.onChange,required:!0,minLength:"3",maxLength:"80",pattern:"^.{3,80}$"})))}}]),t}(d.a.Component),xe=function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(g.a)(this,Object(E.a)(t).call(this))).cpf=d.a.createRef(),e.onChange=e.onChange.bind(Object(Oe.a)(e)),e}return Object(b.a)(t,e),Object(v.a)(t,[{key:"onChange",value:function(e){var t=e.target,a=t.name,n=t.value,o={name:"representante_legal",value:Object(C.a)({},this.props.value,Object(Ae.a)({},a,n))};this.props.onChange({target:o})}},{key:"render",value:function(){var e=this.props.value,t=e.nome,a=e.cargo,n=e.cpf,o=this.onChange;return d.a.createElement("div",null,d.a.createElement("div",{className:"bg-light"},d.a.createElement("h2",{className:"my-0 text-dark"},"Representante Legal")),d.a.createElement("div",{className:"form-row"},d.a.createElement("div",{className:"form-group col-lg-12 col-md-12 col-sm-12 col-12"},d.a.createElement("label",{htmlFor:"nome"},"Nome Completo"),d.a.createElement("input",{className:"form-control",id:"nome",name:"nome",type:"text",value:t,onChange:o,required:!0,minLength:"7",maxLength:"60",pattern:"^[".concat("A-Z\xc0-\xdca-z\xe0-\xfc","][").concat("A-Z\xc0-\xdca-z\xe0-\xfc"," ]{5,58}[").concat("A-Z\xc0-\xdca-z\xe0-\xfc","]$")})),d.a.createElement("div",{className:"form-group col-lg-8 col-md-8 col-sm-12 col-12"},d.a.createElement("label",{htmlFor:"cargo"},"Cargo"),d.a.createElement("input",{className:"form-control",id:"cargo",name:"cargo",type:"text",value:a,placeholder:"Propriet\xe1rio, Diretor...",onChange:o,required:!0,minLength:"2",maxLength:"60",pattern:"^.{2,60}$"})),d.a.createElement("div",{className:"form-group col-lg-4 col-md-4 col-sm-12 col-12"},d.a.createElement("label",{htmlFor:"cpf"},"CPF"),d.a.createElement("label",{className:"badge badge-pill badge-info"},"somente n\xfameros"),d.a.createElement("label",{className:"badge badge-pill badge-light"},"opcional"),d.a.createElement("input",{className:"form-control",id:"cpf",name:"cpf",type:"text",defaultValue:void 0!==n?n:"",ref:this.cpf,onChange:o,placeholder:"somente n\xfameros",minLength:"11",maxLength:"11",pattern:"^[0-9]{11}$"}))))}}]),t}(d.a.Component),qe=function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(g.a)(this,Object(E.a)(t).call(this))).state={listaDeConcedentes:[],dados:{nome:"",telefone:"",endereco:{cep:"",logradouro:"",bairro:"",cidade:"",uf:""}},representanteLegalAtivo:!1},e.carregaListaDeConcedentes=e.carregaListaDeConcedentes.bind(Object(Oe.a)(e)),e.replicarDadosDoConcedente=e.replicarDadosDoConcedente.bind(Object(Oe.a)(e)),e.ativaRepresentanteLegal=e.ativaRepresentanteLegal.bind(Object(Oe.a)(e)),e.desativaRepresentanteLegal=e.desativaRepresentanteLegal.bind(Object(Oe.a)(e)),e.email=d.a.createRef(),e.onChange=e.onChange.bind(Object(Oe.a)(e)),e.onSubmit=e.onSubmit.bind(Object(Oe.a)(e)),e}return Object(b.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.carregaListaDeConcedentes()}},{key:"carregaListaDeConcedentes",value:function(){var e=this;this.props.api.Concedentes.ListaConcedentes(function(t){return e.setState({listaDeConcedentes:t})})}},{key:"criarCampoDeEstagio",value:function(e){this.props.api.CamposDeEstagio.Novo(e,window.location.href=" #",function(e){return console.log(e)})}},{key:"replicarDadosDoConcedente",value:function(){var e=this.state.dados.concedente,t={nome:e.nome,telefone:e.telefone,email:e.email,endereco:e.endereco};this.setState(function(e){return Object(C.a)({},e,{dados:Object(C.a)({},e.dados,t),replica_concedente:!1})})}},{key:"ativaRepresentanteLegal",value:function(e){e.preventDefault(),this.setState(function(e){return{dados:Object(C.a)({},e.dados,{representante_legal:{nome:"",cargo:""}}),representanteLegalAtivo:!0}})}},{key:"desativaRepresentanteLegal",value:function(e){e.preventDefault(),this.setState(function(e){var t=e.dados;t.representante_legal;return{dados:Object(Te.a)(t,["representante_legal"]),representanteLegalAtivo:!1}})}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this.state.dados;this.criarCampoDeEstagio(t)}},{key:"onChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(function(e){return{dados:Object(C.a)({},e.dados,Object(Ae.a)({},a,n))}})}},{key:"render",value:function(){var e=this,t=this.state,a=t.dados,n=t.listaDeConcedentes,o=t.replica_concedente,r=t.representanteLegalAtivo;if(void 0===a.concedente)return d.a.createElement(Re,{listaDeConcedentes:n,onSelect:function(t){return e.setState(function(e){return{dados:Object(C.a)({},e.dados,{concedente:t})}})}});var c=a.nome,l=a.telefone,i=a.email,s=a.endereco,u=a.representante_legal;return o&&this.replicarDadosDoConcedente(),d.a.createElement("form",{className:"container",onSubmit:this.onSubmit},d.a.createElement("h5",{className:"my-1 text-dark"},"Dados cadastrais do Campo de Est\xe1gio"),void 0===o?d.a.createElement("button",{onClick:function(){return e.setState({replica_concedente:!0})}},"Importar dados do concedente"):"",d.a.createElement("div",{className:"form-row"},d.a.createElement("div",{className:"form-group col-lg-9 col-md-9 col-sm-12 col-12"},d.a.createElement("label",{htmlFor:"nome"},"Nome"),d.a.createElement("input",{className:"form-control",id:"nome",name:"nome",type:"text",value:c,onChange:this.onChange,required:!0,minLength:"2",maxLength:"80",pattern:"^.{2,80}$"}))),d.a.createElement("div",{className:"form-row"},d.a.createElement("div",{className:"form-group col-lg-3 col-md-3 col-sm-12 col-12"},d.a.createElement("label",{htmlFor:"telefone"},"Telefone"),d.a.createElement("label",{className:"badge badge-pill badge-info"},"somente n\xfameros"),d.a.createElement("input",{className:"form-control",id:"telefone",name:"telefone",type:"text",value:l,onChange:this.onChange,required:!0,placeholder:"somente n\xfameros",minLength:"8",maxLength:"11",pattern:"^[0-9]{8,11}$"})),d.a.createElement("div",{className:"form-group col-lg-5 col-md-5 col-sm-12 col-12"},d.a.createElement("label",{htmlFor:"email"},"Email"),d.a.createElement("input",{className:"form-control",id:"email",name:"email",type:"email",defaultValue:void 0!==i?i:"",ref:this.email,onChange:this.onChange,minLength:"6",maxLength:"70"}))),d.a.createElement(we,{onChange:this.onChange,value:s}),d.a.createElement("div",{className:"form-row"},d.a.createElement("div",{className:"form-group col-12"},d.a.createElement("button",{className:"btn btn-primary",onClick:r?this.desativaRepresentanteLegal:this.ativaRepresentanteLegal},r?"Utilizar o mesmo Representante Legal do Concedente":"Informar Representante Legal diferente do Concedente"))),void 0!==u?d.a.createElement(xe,{onChange:this.onChange,value:u}):null,d.a.createElement("input",{type:"submit",value:"Cadastrar"}))}}]),t}(m.Component),Pe=function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(g.a)(this,Object(E.a)(t).call(this))).state={listaDeCampos:[]},e.carregarListaDeCampos=e.carregarListaDeCampos.bind(Object(Oe.a)(e)),e}return Object(b.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){this.carregarListaDeCampos()}},{key:"carregarListaDeCampos",value:function(){var e=this;this.props.api.CamposDeEstagio.ListaTodos(function(t){return e.setState({listaDeCampos:t})},function(e){return console.log("erro",e)})}},{key:"linkParaBaixarModeloDeAteste",value:function(e){var t=this.props.api;return"".concat(t.CamposDeEstagio.getBaseUrl(),"/").concat(e,"/baixar")}},{key:"baixar",value:function(e){var t=this,a=this.props.api.Auth.accessToken(),n=this.linkParaBaixarModeloDeAteste(e);fetch(n,{headers:{Authorization:"Bearer ".concat(a)}}).then(function(e){return e.blob()}).then(function(a){var n=window.URL.createObjectURL(new Blob([a]));t.setState(function(t){var a=t.listaDeCampos,o=a.filter(function(t){return t.id===e})[0],r=Object(C.a)({},o,{blobUrl:n}),c=a.reduce(function(t,a){return t.push(a.id===e?r:a),t},[]);return Object(C.a)({},t,{listaDeCampos:Object(Ne.a)(c)})})})}},{key:"render",value:function(){var e=this,t=this.state.listaDeCampos;return d.a.createElement("div",null,d.a.createElement("h5",null,"Rela\xe7\xe3o de Campos de Est\xe1gio"),d.a.createElement("table",{className:"table table-striped table-hover"},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"Concedente"),d.a.createElement("th",null,"Nome"),d.a.createElement("th",null,"Telefone"),d.a.createElement("th",null,"Email"),d.a.createElement("th",null,"Ateste (formul\xe1rio)"))),d.a.createElement("tbody",null,t.map(function(t){var a=t.concedente;return d.a.createElement("tr",{key:t.id},d.a.createElement("td",null,null!==a?a.nome:""),d.a.createElement("td",null,t.nome),d.a.createElement("td",null,t.telefone),d.a.createElement("td",null,t.email),d.a.createElement("td",null,void 0===t.blobUrl?d.a.createElement("button",{onClick:function(){return e.baixar(t.id)}},"Baixar"):d.a.createElement("button",{onClick:function(){return window.open(t.blobUrl,"_blank")}},"Abrir")))}))))}}]),t}(m.Component);function Ue(e){var t=e.listaDeCampos,a=e.onSelect;return d.a.createElement("div",null,d.a.createElement("h5",null,"Selecione o Campo de Est\xe1gio que deseja cadastrar o ateste"),d.a.createElement("table",{className:"table table-striped table-hover"},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"Concedente"),d.a.createElement("th",null,"Nome"),d.a.createElement("th",null,"Telefone"),d.a.createElement("th",null,"Email"),d.a.createElement("th",null,"Munic\xedpio"))),d.a.createElement("tbody",null,t.map(function(e){var t=e.concedente;return d.a.createElement("tr",{key:e.id,onClick:function(){return a(e)}},d.a.createElement("td",null,null!==t?t.nome:""),d.a.createElement("td",null,e.nome),d.a.createElement("td",null,e.telefone),d.a.createElement("td",null,e.email),d.a.createElement("td",null,e.endereco.municipio))}))))}var Be=function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(g.a)(this,Object(E.a)(t).call(this))).state={listaDeCampos:[],listaDeCursos:[],dados:{curso:{id:""},responsavel:{nome:"",siape:"",formacao:""},vigencia:{inicio:"",fim:""},observacoes:""}},e.carregaListaDeCampos=e.carregaListaDeCampos.bind(Object(Oe.a)(e)),e.carregaListaDeCursos=e.carregaListaDeCursos.bind(Object(Oe.a)(e)),e.onChange=e.onChange.bind(Object(Oe.a)(e)),e.onSubmit=e.onSubmit.bind(Object(Oe.a)(e)),e}return Object(b.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.carregaListaDeCampos(),this.carregaListaDeCursos()}},{key:"carregaListaDeCampos",value:function(){var e=this;this.props.api.Cursos.ListaTodos(function(t){return e.setState({listaDeCursos:t})})}},{key:"carregaListaDeCursos",value:function(){var e=this;this.props.api.CamposDeEstagio.ListaTodos(function(t){return e.setState({listaDeCampos:t})})}},{key:"atestarCampoDeEstagio",value:function(e){this.props.api.AtestesDeCampo.Novo(e,window.location.href=" #",function(e){return console.log(e)})}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this.state.dados;this.atestarCampoDeEstagio(t)}},{key:"onChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(function(e){return{dados:Object(C.a)({},e.dados,Object(Ae.a)({},a,n))}})}},{key:"onChangeSubAttribute",value:function(e,t){var a=t.target,n=a.name,o=a.value,r={name:e,value:Object(C.a)({},this.state.dados[e],Object(Ae.a)({},n,o))};this.onChange({target:r})}},{key:"render",value:function(){var e=this,t=this.state,a=t.dados,n=t.listaDeCampos,o=t.listaDeCursos;if(void 0===a.local_de_estagio)return d.a.createElement(Ue,{listaDeCampos:n,onSelect:function(t){return e.setState(function(e){return{dados:Object(C.a)({},e.dados,{local_de_estagio:t})}})}});var r=a.curso,c=a.responsavel,l=a.vigencia,i=a.observacoes;return d.a.createElement("form",{className:"container",onSubmit:this.onSubmit},d.a.createElement("h5",{className:"my-2 text-dark"},d.a.createElement("strong",null,"Cadastro de Ateste de Campo de Est\xe1gio")),d.a.createElement("h5",null,"Respons\xe1vel pelo Ateste"),d.a.createElement("div",{className:"form-row"},d.a.createElement("div",{className:"form-group col-lg-6 col-md-9 col-sm-12 col-12"},d.a.createElement("label",{htmlFor:"nome"},"Nome"),d.a.createElement("input",{className:"form-control",id:"nome",name:"nome",type:"text",value:c.nome,onChange:function(t){return e.onChangeSubAttribute("responsavel",t)},required:!0,minLength:"2",maxLength:"80",pattern:"^.{2,80}$"})),d.a.createElement("div",{className:"form-group col-lg-2 col-md-9 col-sm-12 col-12"},d.a.createElement("label",{htmlFor:"siape"},"Siape"),d.a.createElement("input",{className:"form-control",id:"siape",name:"siape",type:"text",value:c.siape,onChange:function(t){return e.onChangeSubAttribute("responsavel",t)},required:!0,minLength:"2",maxLength:"80",pattern:"^.{2,80}$"})),d.a.createElement("div",{className:"form-group col-lg-4 col-md-9 col-sm-12 col-12"},d.a.createElement("label",{htmlFor:"formacao"},"Forma\xe7\xe3o"),d.a.createElement("input",{className:"form-control",id:"formacao",name:"formacao",type:"text",value:c.formacao,onChange:function(t){return e.onChangeSubAttribute("responsavel",t)},required:!0,minLength:"2",maxLength:"80",pattern:"^.{2,80}$"}))),d.a.createElement("div",{className:"form-row"},d.a.createElement("div",{className:"form-group col-lg-6 col-md-9 col-sm-12 col-12"},d.a.createElement("label",{htmlFor:"curso"},"Curso"),d.a.createElement("select",{className:"form-control",id:"curso",name:"id",value:r.id,onChange:function(t){return e.onChangeSubAttribute("curso",t)},required:!0},d.a.createElement("option",{value:""},"Selecione um curso"),o.map(function(e){return d.a.createElement("option",{key:e.id,value:e.id},e.nome)}))),d.a.createElement("div",{className:"form-group col-lg-3 col-md-9 col-sm-12 col-12"},d.a.createElement("label",{htmlFor:"inicio"},"Inicio"),d.a.createElement("input",{className:"form-control",id:"inicio",name:"inicio",type:"date",value:l.inicio,onChange:function(t){return e.onChangeSubAttribute("vigencia",t)},required:!0,minLength:"2",maxLength:"80",pattern:"^.{2,80}$"})),d.a.createElement("div",{className:"form-group col-lg-3 col-md-9 col-sm-12 col-12"},d.a.createElement("label",{htmlFor:"fim"},"Fim"),d.a.createElement("input",{className:"form-control",id:"fim",name:"fim",type:"date",value:l.fim,onChange:function(t){return e.onChangeSubAttribute("vigencia",t)},required:!0,minLength:"2",maxLength:"80",pattern:"^.{2,80}$"}))),d.a.createElement("div",{className:"form-row"},d.a.createElement("div",{className:"form-group col-12"},d.a.createElement("label",{htmlFor:"observacoes"},"Observa\xe7\xf5es"),d.a.createElement("textarea",{className:"form-control",id:"observacoes",name:"observacoes",onChange:this.onChange},i))),d.a.createElement("input",{type:"submit",value:"Cadastrar"}))}}]),t}(m.Component),Fe=function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(g.a)(this,Object(E.a)(t).call(this))).state={listaDeAtestes:[]},e.carregarListaDeAtestes=e.carregarListaDeAtestes.bind(Object(Oe.a)(e)),e}return Object(b.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){this.carregarListaDeAtestes()}},{key:"carregarListaDeAtestes",value:function(){var e=this;this.props.api.AtestesDeCampo.ListaTodos(function(t){return e.setState({listaDeAtestes:t})},function(e){return console.log("erro",e)})}},{key:"render",value:function(){var e=this.state.listaDeAtestes;return d.a.createElement("div",null,d.a.createElement("h5",null,"Rela\xe7\xe3o de Atestes de Campo"),d.a.createElement("table",{className:"table table-striped table-hover"},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"Campo de Est\xe1gio"),d.a.createElement("th",null,"Respons\xe1vel"),d.a.createElement("th",null,"Curso"),d.a.createElement("th",null,"Vig\xeancia"))),d.a.createElement("tbody",null,e.map(function(e){var t=e.responsavel,a=e.local_de_estagio,n=e.curso,o=e.vigencia;return d.a.createElement("tr",{key:e.id},d.a.createElement("td",null,a.nome),d.a.createElement("td",null,t.nome),d.a.createElement("td",null,n.nome),d.a.createElement("td",null,"".concat(new Date(o.inicio).toLocaleDateString()," a ").concat(new Date(o.fim).toLocaleDateString())))}))))}}]),t}(m.Component);function Ie(e){var t=e.listaDeRequerimentos,a=e.onSelect;return d.a.createElement("div",null,d.a.createElement("h5",{className:"my-0 text-dark"},d.a.createElement("strong",null,"Selecione o Requerimento base para o Termo de Compromisso")),d.a.createElement("table",{className:"table table-striped table-hover"},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"CPF"),d.a.createElement("th",null,"Nome"),d.a.createElement("th",null,"Matr\xedcula"),d.a.createElement("th",null,"Curso"))),d.a.createElement("tbody",null,t.map(function(e){return d.a.createElement("tr",{key:e.id,onClick:function(){return a(e)}},d.a.createElement("td",null,e.aluno.cpf),d.a.createElement("td",null,e.aluno.nome),d.a.createElement("td",null,e.aluno.matricula),d.a.createElement("td",null,e.aluno.curso.nome))}))))}function Me(e){var t=e.title,a=e.value;return d.a.createElement("div",null,d.a.createElement("strong",null,t,": "),a)}var ze={"":function(){return d.a.createElement("h5",null,"Bem vindo(a)")},"#login":function(e){var t=e.api,a=d.a.createRef(),n=d.a.createRef();return void 0!==t.Auth.accessToken()&&(window.location.href="#"),d.a.createElement("div",{className:"container bg-white p-0",style:{minHeight:"100vh"}},d.a.createElement("form",{className:"container",onSubmit:function(e){e.preventDefault();var o=a.current.value,r=n.current.value;t.Auth.Login(o,r)}},d.a.createElement("div",{className:"form-group"},d.a.createElement("label",null,"Usuario"),d.a.createElement("input",{className:"form-control",type:"text",ref:a})),d.a.createElement("div",{className:"form-group"},d.a.createElement("label",null,"Senha"),d.a.createElement("input",{className:"form-control",type:"password",ref:n})),d.a.createElement("input",{type:"submit",value:"Entrar"})))},"#logout":function(e){return e.api.Auth.Logout(),null},"#termo_novo":function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(g.a)(this,Object(E.a)(t).call(this))).state={listaDeApolices:[],listaDeRequerimentos:[],tce:{apolice:{},jornada_estagio:{dias_da_semana:"SEGUNDA_SEXTA",horario_inicio:"08:00",horario_final:"18:00"}}},e.onChange=e.onChange.bind(Object(Oe.a)(e)),e.onChangeSubAttribute=e.onChangeSubAttribute.bind(Object(Oe.a)(e)),e.onSubmit=e.onSubmit.bind(Object(Oe.a)(e)),e}return Object(b.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){this.carregaRelacaoDeRequerimentos()}},{key:"componentDidMount",value:function(){this.carregaRelacaoDeApolices(),this.carregaValoresIniciais()}},{key:"criaTermoDeCompromisso",value:function(e){this.props.api.TermosDeCompromisso.CriaTermoDeCompromisso(e,window.location.href="#",function(e){return console.log(e)})}},{key:"carregaRelacaoDeRequerimentos",value:function(){var e=this;this.props.api.Requerimentos.ListaRequerimentos(function(t){return e.setState({listaDeRequerimentos:t})})}},{key:"carregaRelacaoDeApolices",value:function(){var e=this;this.props.api.Apolices.ListaApolices(function(t){return e.setState({listaDeApolices:t})})}},{key:"carregaValoresIniciais",value:function(){var e=new Date;e.setDate(e.getDate()+2);var t=6===e.getDay()?2:0===e.getDay()?1:0;e.setDate(e.getDate()+t);var a=e.toISOString().substring(0,10);e.setDate(e.getDate()+1);var n=e.toISOString().substring(0,10);e.setDate(e.getDate()+60);var o=e.toISOString().substring(0,10);this.setState(function(e){return{tce:Object(C.a)({},e.tce,{data_da_assinatura:a,vigencia:{inicio:n,fim:o}})}})}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this.state.tce;this.criaTermoDeCompromisso(t)}},{key:"onChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(function(e){return{tce:Object(C.a)({},e.tce,Object(Ae.a)({},a,n))}})}},{key:"onChangeSubAttribute",value:function(e,t){var a=t.target,n=a.name,o=a.value,r={name:e,value:Object(C.a)({},this.state.tce[e],Object(Ae.a)({},n,o))};this.onChange({target:r})}},{key:"render",value:function(){var e=this,t=this.state,a=t.tce,n=t.listaDeApolices,o=t.listaDeRequerimentos;return void 0===a.requerimento?d.a.createElement(Ie,{listaDeRequerimentos:o,onSelect:function(t){return e.setState(function(e){return{tce:Object(C.a)({},e.tce,{requerimento:t,carga_horaria_minima:t.aluno.curso.carga_horaria_minima})}})}}):d.a.createElement("div",{className:"container"},d.a.createElement("form",{className:"NovoTCE",onSubmit:this.onSubmit},d.a.createElement("h5",{className:"my-0 text-dark"},d.a.createElement("strong",null,"Emiss\xe3o de Termo de Compromisso")),d.a.createElement("div",{className:"form-row"},d.a.createElement("div",{className:"form-group col-12"},d.a.createElement(Me,{title:"Aluno(a)",value:a.requerimento.aluno.nome}),d.a.createElement(Me,{title:"CPF",value:a.requerimento.aluno.cpf}),d.a.createElement(Me,{title:"Matr\xedcula",value:a.requerimento.aluno.matricula}),d.a.createElement(Me,{title:"Curso",value:a.requerimento.aluno.curso.nome}),d.a.createElement(Me,{title:"Concedente",value:a.requerimento.local_do_estagio.concedente.nome}),d.a.createElement(Me,{title:"Campo de Est\xe1gio",value:a.requerimento.local_do_estagio.nome}),d.a.createElement(Me,{title:"Orientador(a)",value:a.requerimento.orientador.nome}),d.a.createElement(Me,{title:"Supervisor(a)",value:a.requerimento.supervisor.nome}))),d.a.createElement("div",{className:"form-row"},d.a.createElement("div",{className:"form-group col-lg-6 col-md-3 col-sm-6 col-6"},d.a.createElement("label",{htmlFor:"apolice"},"Apolice do Seguro de acidentes pessoais"),d.a.createElement("select",{className:"custom-select",id:"id",name:"id",value:a.apolice.id,onChange:function(t){return e.onChangeSubAttribute("apolice",t)},required:!0},d.a.createElement("option",{key:"",value:""},"Selecione uma apolice"),n.map(function(e){return d.a.createElement("option",{key:e.id,value:e.id},e.empresa)}))),d.a.createElement("div",{className:"form-group col-lg-2 col-md-3 col-sm-6 col-6"},d.a.createElement("label",{htmlFor:"inicio"},"Inicio da Vig\xeancia"),d.a.createElement("input",{className:"form-control",id:"inicio",name:"inicio",type:"date",value:a.vigencia.inicio,onChange:function(t){return e.onChangeSubAttribute("vigencia",t)},required:!0})),d.a.createElement("div",{className:"form-group col-lg-2 col-md-3 col-sm-6 col-6"},d.a.createElement("label",{htmlFor:"fim"},"Final da Vig\xeancia"),d.a.createElement("input",{className:"form-control",id:"fim",name:"fim",type:"date",value:a.vigencia.fim,onChange:function(t){return e.onChangeSubAttribute("vigencia",t)},required:!0})),d.a.createElement("div",{className:"form-group col-lg-2 col-md-3 col-sm-6 col-6"},d.a.createElement("label",{htmlFor:"carga_horaria_minima"},"Carga Hor\xe1ria M\xednima"),d.a.createElement("input",{className:"form-control",id:"carga_horaria_minima",name:"carga_horaria_minima",type:"number",value:a.carga_horaria_minima,onChange:this.onChange,required:!0}))),d.a.createElement("div",{className:"form-row"},d.a.createElement("div",{className:"form-group col-lg-4 col-md-3 col-sm-6 col-6"},d.a.createElement("label",{htmlFor:"dias_da_semana"},"Dias para est\xe1gio"),d.a.createElement("select",{className:"custom-select",id:"dias_da_semana",name:"dias_da_semana",value:a.jornada_estagio.dias_da_semana,onChange:function(t){return e.onChangeSubAttribute("jornada_estagio",t)}},d.a.createElement("option",{key:"SEGUNDA_SEXTA",value:"SEGUNDA_SEXTA"},"Segunda a Sexta-Feira"),d.a.createElement("option",{key:"SEGUNDA_SABADO",value:"SEGUNDA_SABADO"},"Segunda a S\xe1bado"),d.a.createElement("option",{key:"DOMINGO_SABADO",value:"DOMINGO_SABADO"},"Todos os dias"))),d.a.createElement("div",{className:"form-group col-lg-2 col-md-3 col-sm-6 col-6"},d.a.createElement("label",{htmlFor:"horario_inicio"},"In\xedcio"),d.a.createElement("input",{className:"form-control",id:"horario_inicio",name:"horario_inicio",type:"time",min:"06:00",max:"22:00",value:a.jornada_estagio.horario_inicio,onChange:function(t){return e.onChangeSubAttribute("jornada_estagio",t)},required:!0})),d.a.createElement("div",{className:"form-group col-lg-2 col-md-3 col-sm-6 col-6"},d.a.createElement("label",{htmlFor:"horario_final"},"Final"),d.a.createElement("input",{className:"form-control",id:"horario_final",name:"horario_final",type:"time",min:"06:00",max:"22:00",value:a.jornada_estagio.horario_final,onChange:function(t){return e.onChangeSubAttribute("jornada_estagio",t)},required:!0})),d.a.createElement("div",{className:"form-group col-lg-4 col-md-3 col-sm-6 col-6"},d.a.createElement("label",{htmlFor:"data_da_assinatura"},"Data da assinatura do Termo de Compromisso"),d.a.createElement("input",{className:"form-control",id:"data_da_assinatura",name:"data_da_assinatura",type:"date",value:a.data_da_assinatura,onChange:this.onChange,required:!0}))),d.a.createElement("div",{className:"form-row bg-light"},d.a.createElement("div",{className:"py-2 col-lg-3 col-md-4 col-sm-6 col-12"},d.a.createElement("input",{className:"form-control btn btn-success",type:"submit",value:"Avan\xe7ar"})))))}}]),t}(m.Component),"#termo_lista":function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(g.a)(this,Object(E.a)(t).call(this))).api=new Ce,e.state={listaDeTCE:[]},e}return Object(b.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.api.TermosDeCompromisso.ListaTermosDeCompromisso(function(t){return e.setState({listaDeTCE:t})},function(e){return console.log("erro",e)})}},{key:"validarTermo",value:function(e){this.api.TermosDeCompromisso.ValidaTermoDeCompromissoPeloRegistro(e,function(){return alert("Termo validado")},function(){return alert("Erro ao validar")})}},{key:"linkParaBaixarTermo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.api;return"".concat(t.TermosDeCompromisso.getBaseUrl(),"/").concat(e,"/baixar")}},{key:"baixar",value:function(e){var t=this,a=this.props.api.Auth.accessToken(),n=this.linkParaBaixarTermo(e);fetch(n,{headers:{Authorization:"Bearer ".concat(a)}}).then(function(e){return e.blob()}).then(function(a){var n=window.URL.createObjectURL(new Blob([a]));t.setState(function(t){var a=t.listaDeTCE,o=a.filter(function(t){return t.registro===e})[0],r=Object(C.a)({},o,{blobUrl:n}),c=a.reduce(function(t,a){return t.push(a.registro===e?r:a),t},[]);return Object(C.a)({},t,{listaDeTCE:Object(Ne.a)(c)})})})}},{key:"render",value:function(){var e=this,t=this.state.listaDeTCE;return d.a.createElement("div",null,d.a.createElement("h5",null,"Listar TCE"),d.a.createElement("table",{className:"table table-striped table-hover"},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"Registro"),d.a.createElement("th",null,"Estagi\xe1rio"),d.a.createElement("th",null,"Campo de Est\xe1gio"),d.a.createElement("th",null,"Vig\xeancia"),d.a.createElement("th",null))),d.a.createElement("tbody",null,t.map(function(t){var a=t.aluno,n=t.local_do_estagio,o=t.vigencia;return d.a.createElement("tr",{key:t.id},d.a.createElement("td",null,t.registro),d.a.createElement("td",null,a.nome),d.a.createElement("td",null,n.nome),d.a.createElement("td",null,"".concat(new Date(o.inicio).toLocaleDateString()," a ").concat(new Date(o.fim).toLocaleDateString())),d.a.createElement("td",null,void 0===t.blobUrl?d.a.createElement("button",{onClick:function(){return e.baixar(t.registro)}},"Baixar"):d.a.createElement("button",{onClick:function(){return window.open(t.blobUrl,"_blank")}},"Abrir"),d.a.createElement("button",{onClick:function(){return e.validarTermo(t.registro)}},"Validar")))}))))}}]),t}(m.Component),"#requerimento_lista":je,"#proposta_concedente_lista":_e,"#concedente_lista":Le,"#campo_novo":qe,"#campo_lista":Pe,"#ateste_novo":Be,"#ateste_lista":Fe},$e={Requerimento:{href:" #",dropdown:[{href:"#requerimento_novo",label:"Cadastrar"},{href:"#requerimento_lista",label:"Listar Requerimentos"}]},Concedentes:{href:" #",dropdown:[{href:"#proposta_concedente_lista",label:"Rela\xe7\xe3o de Propostas"},{href:"#concedente_lista",label:"Rela\xe7\xe3o de Concedentes"}]},"Campos de Est\xe1gio":{href:" #",dropdown:[{href:"#campo_novo",label:"Cadastrar Campo de Est\xe1gio"},{href:"#campo_lista",label:"Rela\xe7\xe3o de Campos de Est\xe1gio"},{href:"#ateste_novo",label:"Cadastrar Ateste de Campo"},{href:"#ateste_lista",label:"Rela\xe7\xe3o de Atestes de Campo"}]},"Termos de Compromisso":{href:" #",dropdown:[{href:"#termo_novo",label:"Emitir Novo Termo"},{href:"#termo_lista",label:"Listar Termos Vigentes"}]},Sair:{href:"#logout"}},Je=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(g.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).api=new Ce,a.state={},a}return Object(b.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){var e=this;setInterval(function(){return e.setState({accessTokenAtivo:e.api.Auth.accessTokenAtivo(),refreshTokenAtivo:e.api.Auth.refreshTokenAtivo()})},300)}},{key:"render",value:function(){var e=this.state,t=e.accessTokenAtivo,a=e.refreshTokenAtivo,n=t;return!t&&a?this.api.Auth.Refresh():t||a||(window.location.href="#login"),d.a.createElement("div",{className:"container bg-white p-0",style:{minHeight:"100vh"}},n?d.a.createElement(ye,{menu:$e}):null,d.a.createElement(Se,{rotas:ze,api:this.api}))}}]),t}(m.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));h.a.render(d.a.createElement(Je,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[13,1,2]]]);
//# sourceMappingURL=main.344279ea.chunk.js.map